<!doctype html>
<!-- Restored monolithic GUI structure with modular sidebar -->
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: blob:; media-src 'self' blob:; style-src 'self'; font-src 'self' data:; connect-src 'self' ws: http: https:; script-src 'self'; object-src 'none'; base-uri 'self'" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="theme-color" content="#6366f1" />
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png" />
  <link rel="stylesheet" href="./styles.css" />
  <title>KI-Sprachassistent</title>
</head>
<body class="app-preload">
  <header class="top-nav">
    <div class="app-logo">🤖 KI-Assistent</div>
    <div class="nav-actions">
      <button id="sidebarToggle" class="nav-button" aria-label="Einstellungen">⚙️</button>
      <button id="themeToggle" class="nav-button" aria-label="Theme wechseln">🌙</button>
      <button id="infoToggle" class="nav-button" aria-label="Info">ℹ️</button>
    </div>
  </header>

  <div id="app" class="app-layout">
    <aside id="sidebar" class="sidebar">
      <div class="sidebar-header">
        <h2 class="sidebar-title">Einstellungen</h2>
        <button id="sidebarClose" class="sidebar-close" aria-label="Schließen">×</button>
      </div>
      <nav class="sidebar-nav">
        <button class="sidebar-nav-item active" data-tab="settings" title="Audio/TTS">🎤</button>
        <button class="sidebar-nav-item" data-tab="llm" title="LLM Settings">🧠</button>
        <button class="sidebar-nav-item" data-tab="profiles" title="Voice Profiles">🎙️</button>
        <button class="sidebar-nav-item" data-tab="stats" title="Statistics">📊</button>
        <button class="sidebar-nav-item" data-tab="themes" title="Themes">🎨</button>
        <button class="sidebar-nav-item" data-tab="plugins" title="Plugins">🔌</button>
        <button class="sidebar-nav-item" data-tab="actions" title="Scheduled">⏰</button>
        <button class="sidebar-nav-item" data-tab="advanced" title="Advanced">⚡</button>
      </nav>
      <div class="sidebar-content">
        <div class="sidebar-panel active" data-tab="settings">
          <div class="sidebar-section">
            <h3 class="sidebar-section-title">Audio/TTS</h3>
            <label class="sidebar-label" for="ttsSelect">TTS-Engine</label>
            <select id="ttsSelect" class="sidebar-select">
              <option value="piper">Piper</option>
              <option value="kokoro">Kokoro</option>
            </select>
            <label class="sidebar-label" for="micSelect">Mikrofon</label>
            <select id="micSelect" class="sidebar-select"></select>
          </div>
        </div>
        <div class="sidebar-panel" data-tab="llm">
          <div class="sidebar-section">
            <h3 class="sidebar-section-title">LLM</h3>
            <label class="sidebar-label" for="llmSelect">Provider</label>
            <select id="llmSelect" class="sidebar-select">
              <option value="lmstudio">LM Studio</option>
              <option value="openai">OpenAI</option>
            </select>
            <label class="sidebar-label" for="systemPrompt">System-Prompt</label>
            <textarea id="systemPrompt" class="sidebar-textarea" rows="4" placeholder="System-Prompt…"></textarea>
          </div>
        </div>
        <div class="sidebar-panel" data-tab="profiles">
          <div class="sidebar-section"><p class="sidebar-text">Keine Profile.</p></div>
        </div>
        <div class="sidebar-panel" data-tab="stats">
          <div class="sidebar-section"><p class="sidebar-text">Keine Statistiken.</p></div>
        </div>
        <div class="sidebar-panel" data-tab="themes">
          <div class="sidebar-section">
            <h3 class="sidebar-section-title">Theme</h3>
            <div class="theme-grid">
              <div class="theme-card theme-dark" data-theme="dark"><div class="theme-name">Dark</div></div>
              <div class="theme-card theme-light" data-theme="light"><div class="theme-name">Light</div></div>
              <div class="theme-card theme-sci-fi" data-theme="sci-fi"><div class="theme-name">Sci-Fi</div></div>
              <div class="theme-card theme-nature" data-theme="nature"><div class="theme-name">Nature</div></div>
              <div class="theme-card theme-high-contrast" data-theme="high-contrast"><div class="theme-name">High Contrast</div></div>
            </div>
          </div>
        </div>
        <div class="sidebar-panel" data-tab="plugins">
          <div class="sidebar-section"><p class="sidebar-text">Keine Plugins.</p></div>
        </div>
        <div class="sidebar-panel" data-tab="actions">
          <div class="sidebar-section"><p class="sidebar-text">Keine Aktionen.</p></div>
        </div>
        <div class="sidebar-panel" data-tab="advanced">
          <div class="sidebar-section"><p class="sidebar-text">Erweiterte Einstellungen.</p></div>
        </div>
      </div>
    </aside>

    <main id="mainContent" class="main">
      <section class="avatar-section">
        <div id="avatar" class="avatar idle">
          <canvas id="voiceCanvas" class="voice-visualizer" width="400" height="400"></canvas>
          <div class="avatar-nebel">
            <div class="nebel-layer"></div>
            <div class="nebel-layer"></div>
            <div class="nebel-layer"></div>
          </div>
          <div class="avatar-core" title="Interaktion"></div>
          <div id="processingAnimation" class="processing-animation">
            <div class="processing-circle scale-100"></div>
            <div class="processing-circle scale-80"></div>
            <div class="processing-circle scale-60"></div>
          </div>
        </div>
      </section>
      <section class="response-section">
        <div id="responseContent" class="response-content"></div>
      </section>
      <section class="input-section">
        <div class="input-container">
          <input id="textInput" class="text-input" type="text" placeholder="Fragen Sie mich etwas..." />
          <button id="sendBtn" class="action-button">➤</button>
          <button id="voiceBtn" class="action-button voice">🎙️</button>
          <div id="recordingIndicator" class="recording-indicator">
            <span class="recording-dot"></span>
            <span id="recordingTime">0:00</span>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div id="notificationContainer" class="notification-container"></div>

  <script type="module" src="./main.js"></script>
</body>
</html>
