<!doctype html>
<html lang="de">
<head>


  <meta charset="utf-8" />

  
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: blob:; media-src 'self' blob:; style-src 'self'; font-src 'self' data:; connect-src 'self' ws: http: https:; script-src 'self'; object-src 'none'; base-uri 'self'">
<!-- Optionale CSP als <meta>. (Hinweis: frame-ancestors wird per <meta> ignoriert, ist hier bewusst weggelassen.) -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Voice Assistant</title>

  <!-- Wichtig: Diese Datei wird in Schritt 3 als Symlink/Datei bereitgestellt -->
  <link rel="stylesheet" href="./styles.css" />


</head>
<body class="app-preload">


  <!-- Topbar / Shell (keine Inline-Events) -->
  <header class="top-nav">
  <div class="app-logo">ü§ñ KI-Assistent</div>
  <div class="nav-actions">
    <button id="sidebarToggle" class="nav-button" title="Einstellungen" aria-label="Einstellungen">‚öôÔ∏è</button>
    <button id="themeToggle" class="nav-button" title="Theme wechseln" aria-label="Theme wechseln">üåô</button>
    <button id="infoToggle" class="nav-button" title="Info" aria-label="Info">‚ÑπÔ∏è</button>
  </div>
</header>

  <!-- App-Layout: Sidebar + Main -->
  <div id="app" class="app-layout">
    <aside id="sidebar" class="sidebar">

<div class="sidebar-header">
    <h2 class="sidebar-title">Einstellungen</h2>
    <button id="sidebarClose" class="sidebar-close" aria-label="Schlie√üen">√ó</button>
  </div>

  <nav class="sidebar-nav">
    <button class="sidebar-nav-item active" data-tab="llm">LLM</button>
    <button class="sidebar-nav-item" data-tab="audio">Audio</button>
    <button class="sidebar-nav-item" data-tab="themes">Themes</button>
  </nav>

  <div class="sidebar-content">
    <div class="sidebar-panel active" data-tab="llm">
      <div class="sidebar-section">
        <h3 class="sidebar-section-title">LLM-Auswahl</h3>
        <select class="sidebar-select" id="llmSelect">
          <option value="lmstudio">LM Studio</option>
          <option value="openai">OpenAI</option>
        </select>
      </div>
      <div class="sidebar-section">
        <h3 class="sidebar-section-title">System-Prompt</h3>
        <textarea class="sidebar-textarea" id="systemPrompt" rows="4" placeholder="System-Prompt‚Ä¶"></textarea>
      </div>
    </div>

    <div class="sidebar-panel" data-tab="audio">
      <div class="sidebar-section">
        <h3 class="sidebar-section-title">TTS-Engine</h3>
        <select class="sidebar-select" id="ttsSelect">
          <option value="piper">Piper</option>
          <option value="kokoro">Kokoro</option>
        </select>
      </div>
      <div class="sidebar-section">
        <h3 class="sidebar-section-title">Mikrofon</h3>
        <select class="sidebar-select" id="micSelect"></select>
      </div>
    </div>

    <div class="sidebar-panel" data-tab="themes">
      <div class="sidebar-section">
        <h3 class="sidebar-section-title">Theme</h3>
        <div class="theme-grid">
          <div class="theme-card theme-dark" data-theme="dark"><div class="theme-name">Dark</div></div>
          <div class="theme-card theme-light" data-theme="light"><div class="theme-name">Light</div></div>
          <div class="theme-card theme-sci-fi" data-theme="sci-fi"><div class="theme-name">Sci-Fi</div></div>
          <div class="theme-card theme-nature" data-theme="nature"><div class="theme-name">Nature</div></div>
          <div class="theme-card theme-high-contrast" data-theme="high-contrast"><div class="theme-name">High Contrast</div></div>
        </div>
      </div>
    </div>
  </div>

</aside>

    <main id="mainContent" class="main">
<section class="avatar-section">
  <div class="avatar idle style-default" id="avatar">
  <!-- Voice Visualization Canvas -->
  <canvas class="voice-visualizer" id="voiceCanvas" width="400" height="400"></canvas>

  <div class="avatar-nebel">
  <div class="nebel-layer"></div>
  <div class="nebel-layer"></div>
  <div class="nebel-layer"></div>
  </div>
  <div class="avatar-core" title="Klicken f√ºr Interaktion"></div>

  <!-- Processing Animation -->
  <div class="processing-animation" id="processingAnimation">
  <div  class="processing-circle scale-100" ></div>
  <div  class="processing-circle scale-80" ></div>
  <div  class="processing-circle scale-60" ></div>
  </div>

  <!-- Response Overlay -->
  <div class="response-overlay">
  <div class="response-content" id="responseContent">
  <div class="response-empty">Ihre Antwort erscheint hier...</div>
  </div>
  </div>
  </div>
  </section>

  <div class="input-container">
  <input
  type="text"
  id="textInput"
  class="text-input"
  placeholder="Fragen Sie mich etwas..."
  autocomplete="off"
  autocorrect="off"
  autocapitalize="sentences"
  />
  <button class="action-button" id="sendBtn" title="Senden" type="button">‚û§</button>
  <button class="action-button voice" id="voiceBtn" title="Spracheingabe" type="button">
  <span id="voiceIcon">üé§</span>
  </button>
  <div class="recording-indicator" id="recordingIndicator">
  <div class="recording-dot"></div>
  <span>Aufnahme l√§uft... <span id="recordingTime">0s</span></span>
  </div>
  </div>
</main>
  </div>

  <!-- Notifications (CSP-sicher, keine Inline-Events) -->
  <div id="notificationContainer" class="notification-container"></div>

  <!-- Module Scripts (keine Inline-Handler) -->
  <script type="module" src="./core/dom-helpers.js"></script>
  <script type="module" src="./core/backend.js"></script>
  <script type="module" src="./core/audio.js"></script>
  <script type="module" src="./events.js"></script>

  <script type="module" src="./ui/sidebar-core.js"></script>
  <script type="module" src="./ui/sidebar-tabs.js"></script>
  <script type="module" src="./ui/sidebar-events.js"></script>
  <script type="module" src="./ui/sidebar-theme.js"></script>
  <script type="module" src="./ui/sidebar.js"></script>

  <script type="module" src="./hotkeys.js"></script>
  <script type="module" src="./main.js"></script>
  <script type="module" src="./index.js"></script>
</body>
</html>
